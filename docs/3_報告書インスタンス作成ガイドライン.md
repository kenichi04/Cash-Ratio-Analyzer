## 「報告書インスタンス作成ガイドライン」より抜粋
### 1章 報告書インスタンスの概要
- 提出書類の全体像
  - EDINETを用いて有価証券報告書等をXBRL形式により提出する場合
    - 提出者別タクソノミ、報告書インスタンスおよびマニュフェストファイルの作成が必要
- 提出者別タクソノミ
  - EDINETで扱うXBRLのタクソノミ
    - 金融庁が提供するEDINETタクソノミ
    - EDINETタクソノミをベースタクソノミとして提出者が拡張する提出者別タクソノミ。必ず作成する
- 報告書インスタンス
  - 報告書内容（報告内容そのもの）を記載したファイル
  - 項目の値、コンテキスト、通貨単位等を定義する。また提出者別タクソノミへの参照を設定する
- 報告書インスタンスの作成単位
  - 一つの報告書インスタンス（有価証券報告書等）は一つの提出者別タクソノミを参照する
- XBRLファイルの作成について
  - 報告書インスタンスは「インラインXBRL」形式で作成する > インラインXBRLファイル
  - インラインXBRLは、XBRL形式のインスタンス中で表現する要素を、XHTMLファイルに直接埋め込むことができる
  - ブラウザで表示できる一方で、XBRLデータを利用して分析する場合に容易に利用および加工ができる
  - 報告書インスタンスの全体像
    - 表紙のインラインXBRLファイル
    - 本文のインラインXBRLファイル（任意の複数のファイルに分けることができる）
- マニュフェストファイル
  - 提出書類ファイル構成の情報を定義するファイル
  - 縦覧用、独立監査法人の報告書用および非縦覧用の3種類がある
  - 様式ツリー、インラインXBRLファイル名、変換後のXBRLインスタンスファイル名、目次の差し込み位置等が確認できる

### 2章 報告書インスタンスの作成プロセス
- 報告書インスタンスの作成
  - コンテキストおよびユニットの定義
  - DEIの内容を記載
  - 報告する値や内容の記載
  - 添付ファイル等の作成
- マニュフェストファイルの作成

### 3章 報告書インスタンスの作成前の準備
- インラインXBRL分割時の注意
  - インラインXBRLファイルには、一つ以上の隅付き括弧【】目次を含む必要がある

### 4章 報告書インスタンスの作成

---

- タグ情報について
　- 提出者別タクソノミの参照、ユニットの定義、コンテキストの定義、DEIの設定
    - 提出書類本文全体の場合、表紙ファイルに定義
    - 財務諸表本表のみの場合、本表の一つ目のファイルに定義
    - DEIの設定、提出者別タクソノミの参照、コンテキスト定義、ユニット定義は<ix:header>タグ内に指定
        - コンテキストの定義 > 報告する会計年度、報告主体などの定義
        - ユニットの定義 > 報告する通貨、株数等の単位を定義
- 財務諸表本表のみタグ付け対象とする場合、表紙のインラインXBRLファイルは作成しない
    - 以下でソースコードに落とし込みできそう
        - 表紙のインラインファイルあり > ここからタグ情報を取得
        - 表紙のインラインファイルなし > 本表の一つ目のファイルからタグ情報を取得
- 表紙ファイル名は、先頭の7桁数値と6文字が「0000000_header」と決まっている（0000000も固定らしい）ｘ
    - 先頭文字と、拡張子「_ixbrl.htl」で表紙ファイルを特定できそう
    - 本文の最初のファイルは「0101」は固定、多くは「0101010」になりそうだが断定はできない
        - 0101が複数あるかどうかでロジック組む？
- XBRLインスタンスファイル
    - インラインXBRLファイルをEDINET登録することで自動生成される
    - これを見れば必要な情報全部あるかも？ただし容量が大きい
- タクソノミの参照
    - スキーマファイルの参照 > schemaRef要素で指定
    - 拡張リンクロールの参照 > roleRef要素で指定
- 報告書インスタンスの作成
    - コンテキスト及びユニットの定義
    - DEIの内容を記載
    - 報告する値や内容の記載
- 報告項目の各値,内容
    - ix: で始まるタグ
        - ix:nonFraction > 金額または数値
        - ix:nonNumeric > 数値以外の文字列または文章
        - ix:header > ヘッダ情報
- DEIの設定（P71）
    - DEI > Document and Entity Information
        - 提出書類の基本情報（Document Information）
        - 開示書類等提出者の基本情報（Entity Information）
    - DEIはix:header要素の子要素「ix:hidden 要素」に定義（表示しない値と同じ方法）
    - DEIのコンテキストIDは「FilingDateInstant」を利用
